ul.navbar > li {
    > div.menu {
        background: rgba(255,255,255,0.97);
        border: 2px solid #000;
        border-top-width: 6px;
        box-shadow: 1px 1px 10px rgba(0,0,0,0.4);
        font-size: 13px;
        min-width: 200px;
        padding: 24px;
        position: absolute;
        transition: opacity 300ms linear, visibility 0 linear 300ms;
        visibility: hidden;
        z-index: 100;

        .no-rgba & {
            background-image: url('../images/w97.png');
        }
        .csstransitions & {
            // Prefixr adds the MS filter property, which breaks menus in IE
            // So I wrapped it in a Modernizr check, causing IE to ignore it
            // IE10 supports CSS transitions, so this will break
            opacity: 0;
        }
        &.cols {
            .section {
                float: left;
                padding-left: 24px;
                &:first-child {
                    padding-left: 0;
                }
            }
        }
        &.wide {
            border-width: 6px 1px 1px;
            left: 0;
            right: 0;

            .section {
                float: left;
                margin: 0 2%;
                width: 29%;
                &.continued {
                    padding-top: 28px;
                }
            }
        }

        h2 {
            font-size: 17px;
            line-height: 20px;
            margin: 0 0 8px;
        }
        ul {
            list-style: none;
            margin: 0;
            padding: 0;

            li {
                background: transparent url('../images/bullet-nav.png') no-repeat 0 6px;
                margin-bottom: 4px;
                padding-left: 14px;

                a {
                    text-decoration: none;
                    &:hover {
                        text-decoration: underline;
                    }
                }
            }
        }
    }
    &:hover {
        > div.menu {
            transition: opacity 150ms linear;
            visibility: visible;

            .csstransitions & {
                opacity: 1;
            }
        }
    }
    &.menu-align-right {
        position: relative;
        > div.menu {
            left: auto;
            right: 0;
        }
    }
}
@media only screen and (max-width: 630px) {
    ul.navbar > li {
        &.menu-align-right {
            position: static;
        }
        > div.menu {
            border-width: 0 1px;
            box-sizing: border-box;
            box-shadow: none;
            left: 0;
            max-height: 0;
            overflow: hidden;
            padding-top: 0;
            padding-bottom: 0;
            position: relative;
            transition: all 0 500ms,
                max-height 500ms 0,
                padding-top 200ms 200ms,
                padding-bottom 200ms 200ms;
            width: 100%;

            &.cols, &.wide {
                border-width: 0 1px;
                width: 100%;
                .section {
                    float: none;
                    width: 100%;
                }
            }
        }
        &:hover > div.menu {
            padding-top: 24px;
            padding-bottom: 24px;
            max-height: 1000px;
            transition: max-height 1s,
                padding-top 200ms,
                padding-bottom 200ms
        }
    }
}